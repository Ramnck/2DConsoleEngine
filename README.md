# 2DConsoleEngine
> Используемое пространство имен: **sge_impl**
____
## Классы:
### Фундаментальные
* `Point2D` - точка на плоскости
* `Vector2D` - вектор(отрезок) на плоскости
### Графические
* `Sprite` - спрайт
* `GameScreen` - Экран для спрайтов
### Обрабатывающие клавиши
* `KeyProcessor` - обработчик одной кнопки
* `KeyHandler` - обработчик нескольких кнопок
____
## Описание работы с классами

### `Point2D`
* `int Point2D::in(Sprite& spr)` находится ли точка внутри spr
* `Point2D Point2D::operator&(Point2D& p)` расположение точки `p` относительно данной (Если данная точка левее, то X возвращаемого значения = -1, Если ниже, то Y = -1 и соответственно наоборот)

### `Vector2D`
* Векторное сложение/вычитание
* Скалярное умножение векторов
* Все операции со скалярными величинами
* Косинус угла между двумя векторами
* Длина вектора
* `double Vector2D::absoluteAngle()` угол относительно горизонта (<180, >-180) 
* `double Vector2D::angle(Vector2D& vec)` угол относительно вектора (<180, >-180)
* Сложение точки с вектором даст конец вектра с началом в данной точке

### `Sprite`
> Конструкция:
>> Sprite(<колонна>, <линия>, <ширина>, <высота>) - Пустой спрайт (К примеру для барьера)

>> Sprite(<колонна>, <линия>, <данные(имя файла/char* указатель на bmp файл)>, <вид спрайта(фон/персонаж)>)

>> Спрайт фона(background) отличается от персонажа(character) отсутствием коллизии
* `offset()` - цикличный сдвиг картинки спрайта на 1 пиксель влево
* `operator&(Sprite &enemy)` - пересечение данного спрайта с `enemy`
* Доступ к любой грани, точке (также к центру) 
* Операция умножения между двумя спрайтами создает между ними коллизию
* Операция умножения между двумя спрайтами разрушает между ними коллизию
* Оператор < между вектором и спрайтом создает сопротивление вектором для равнодействующей спрайта, возрастающее квадратично равнодействующей
* `Sprite::operator<<(Vector2D& vec)` `vec` воздействует на спрайт

### `GameScreen`
> Конструкция:
>> GameScreen(<ширина>, <высота>)

>> GameScreen(Sprite spr) `spr` будет на фоне

> Использование:
>> Экран связать с спрайтами путем *, соотвественно / отменяет связь
* Ручное отбражение Point2D, Vector2D, Sprite происходит путем метода `print(...)`
* Печать символов осуществляется путем оператора << 
* Перенос строки, возврат каретки осуществляется путем `screen << sge_impl::endl;` или `screen << sge_impl::retc;` соответственно
* Отображение экрана происходит методом `display()` или `screen << disp;`
____
# !!! Примечание
> При создании Sprite/GameScreen их ширина увеличивается в два раза
> Сделано это для корректного отображения в связи с консольным шрифтом, соотношение ширины к высоте которого ~ 0.5
____

### `KeyHandler`
> Использование:
>> KeyHandler(<Клавиша(макросы прописаны в engine.hpp)>, <lambda функция void(void) Исполняемая если клавиша нажата>)

>> Класс является функтором и для работы нужно вызвать объект без аргументов

### `KeyProcessor`
> Использование:
>> Является массивом `KeyHandler`ов, инициализируется посредством uniform (в фигурных скобках передаются экземпляры KeyHandler)

>> Класс является функтором и для работы нужно вызвать объект без аргументов

## Добавление данных в исполняемый файл
В папке res хранятся .bmp которые при помощи make преобразуются в объектные файлы и встраиваются в исполняемый файл
Названия секторов можно узнать при помощи `objdump -x <файл>.bmp.o | grep start`

# **Примером использования библиотеки является dino.cpp**
